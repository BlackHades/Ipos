@{
    Layout = null;
}


<style>
    .block-ui-overlay {
        background-color: rgba(98, 95, 95, 0.62);
    }
</style>

<div class="col-lg-12">
    <div class="card-box">

        <h2 class="text-dark header-title m-t-0 m-b-30"><span><i class="fa fa-user"></i>  Create User Account</span></h2>

        <div class="clearfix m-b-30">
            <div class="pull-left">
                <a ui-sref="app" class="btn btn-warning waves-effect waves-light">
                    <span class="btn-label">
                        <i class="fa fa-arrow-circle-o-left"></i>
                    </span>Back to User List
                </a>
            </div>
        </div>


        <div class="row" block-ui="userCreateBlockUI">
            <div class="col-md-12 col-sm-12 col-xs-12">

                <form id="userform" class="form-horizontal" novalidate name="userform" ng-submit="createUserAccount('@Url.Content("~/api/authapi/createuseraccount")', $event)">

                    <div class="row m-b-30">
                        <div class="col-md-6 col-sm-6 col-xs-6">

                            <div class="form-group">
                                <label class="col-md-3 form-label" for="username">Username</label>
                                <div class="col-md-9">
                                    <input type="text" remote="@Url.Content("~/auth/checkexistingusername")" data-val="true" ng-model="user.username" minlength="6" required class="form-control" id="username" name="username">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 form-label" for="firstname">First Name</label>
                                <div class="col-md-9">

                                    <input type="text" ng-model="user.firstname" class="form-control" id="firstname" name="firstname">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 form-label" for="phonenumber">Phone Number</label>
                                <div class="col-md-9">
                                    <input type="text" class="form-control" ng-model="user.phonenumber" id="phonenumber" name="phonenumber">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 form-label" for="password">Password</label>
                                <div class="col-md-9">
                                    <input type="password" class="form-control" autocomplete="off" id="password" minlength="6" required ng-model="user.password" name="password">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6 col-xs-6">

                            <div class="form-group">
                                <label class="col-md-3 form-label" for="email">Email</label>
                                <div class="col-md-9">
                                    <input type="email" class="form-control" required ng-model="user.email" id="email" name="email">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 form-label" for="lastname">Last Name</label>
                                <div class="col-md-9">
                                    <input type="text" class="form-control" ng-model="user.lastname" id="lastname" name="lastname">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 form-label" for="s2id_autogen2">Roles</label>
                                <div class="col-md-9">
                                    @Html.DropDownList("role", ViewBag.roles as IEnumerable<SelectListItem>, new { @class = "form-control select2", multiple = "", ng_model = "user.role", data_placeholder = "Please select role(s)" })
                                </div>
                            </div>
                            <div class="col-sm-offset-3 col-sm-9">
                                <div class="checkbox checkbox-primary">
                                    <input ng-model="user.status" id="d" type="checkbox">
                                    <label for="d">
                                        Activate
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-7 col-sm-offset-1 ">
                            <button type="submit" class="btn btn-success waves-effect waves-light"> <i class="fa fa-save m-r-5"></i> <span>Save</span> </button>
                            <button type="reset" class="btn btn-danger waves-effect waves-light">
                                <span class="btn-label">
                                    <i class="fa fa-times"></i>
                                </span>Cancel
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    (function ($) {
        $('.select2').select2();
        $('#userform').validate({
            messages: {
                username: {
                    remote: 'Username already exist.'
                }
            },
            highlight: window.app.highlight,
            unhighlight: window.app.unhighlight
        });
    })(jQuery)
</script>